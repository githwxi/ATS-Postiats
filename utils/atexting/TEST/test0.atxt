<!doctype html>
<!--
##ctime()\
-->
<html>
<head>
<title>DrawSierpinski</title>
<style>
#canvas-container
{
  margin: 0 auto; width: 920px; height: auto;
}
</style>
<script
 src="http://cdn.jsdelivr.net/jquery/2.1.1/jquery.min.js">
</script>
<script
  src="https://rawgit.com/githwxi/c754d1fbea087ffb9e93/raw/libatscc2js_all.js">
</script>
<script
 src="http://ats-lang.sourceforge.net/LIBRARY/contrib/libatscc/libatscc2js/CATS/PRINT/print_store_cats.js">
</script>
</head>
<body>
<h1>ATS->C->JS via atscc2js</h1>
<!--
HX-2014-09: it must be the last one!
-->

<h1>Drawing Sierpinski Triangles</h1>

%{
fun theDrawingString() = "\"theDrawingString\""
%}

<center><pre id=#theDrawingString()></pre></center>

#patscode("""\
%{$
//
var theLevel = 0;
var theLevelMax = 5;

function
draw2_sierpinski_demo()
{
//
var
level = theLevel;
//
theLevel = (level+1)%theLevelMax;
//
var _ =
ats2jspre_the_print_store_clear();
//
var _ = draw_sierpinski_demo(level);
//
document.getElementById(#theDrawingString()).innerHTML = ats2jspre_the_print_store_join();
//
setTimeout(draw2_sierpinski_demo, 1000);
//
return;
//
} // end of [draw2_sierpinski_demo]
//
jQuery(document).ready(function(){Sierpinski_3angle_txt__dynload(); draw2_sierpinski_demo();});
//
%} // end of [%{$]

(* ****** ****** *)

(* end of [Sierpinski_3angle_txt.dats] *)
""")

<script src="Sierpinski_3angle_txt_dats.js"></script>
</body>
</html>
